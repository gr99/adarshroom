function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{wQq9:function(e,t,o){"use strict";o.r(t),o.d(t,"NotificationModule",(function(){return x}));var n,i=o("ofXK"),r=o("3Pt+"),a=o("tyNb"),s=o("fXoL"),c=o("bh5J"),b=((n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getRoomData",value:function(e,t,o){this.roomid=e,this.roomcharges=t,this.roomNumber=o,console.log("this is id in service",this.roomid)}}]),e}()).\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Ib({token:n,factory:n.\u0275fac,providedIn:"root"}),n);function l(e,t){1&e&&(s.Pb(0,"i",16),s.sc(1,"This room is available"),s.Ob())}function u(e,t){if(1&e&&(s.Pb(0,"i",17),s.sc(1),s.Ob(),s.Nb(2,"br")),2&e){var o=s.bc().$implicit;s.Bb(1),s.uc("*Note : This room is available till: ",o.startDate,"")}}function m(e,t){if(1&e){var o=s.Qb();s.Pb(0,"div",2),s.Pb(1,"div",3),s.Pb(2,"div",4),s.Pb(3,"div",5),s.Nb(4,"img",6),s.Ob(),s.Ob(),s.Pb(5,"div",7),s.Pb(6,"div",8),s.Pb(7,"p",9),s.Pb(8,"label",10),s.Pb(9,"b"),s.sc(10,"Room No:"),s.Ob(),s.Ob(),s.sc(11),s.Ob(),s.qc(12,l,2,0,"i",11),s.Nb(13,"br"),s.qc(14,u,3,1,"ng-template",null,12,s.rc),s.Pb(16,"label",10),s.Pb(17,"b",13),s.sc(18,"Description:"),s.Ob(),s.Ob(),s.Pb(19,"p",14),s.sc(20),s.Ob(),s.Pb(21,"p",14),s.Pb(22,"label",10),s.Pb(23,"b"),s.sc(24,"Charges : "),s.Ob(),s.Ob(),s.sc(25),s.Ob(),s.Pb(26,"p",14),s.Pb(27,"label",10),s.Pb(28,"b"),s.sc(29,"Type:"),s.Ob(),s.Ob(),s.sc(30),s.Pb(31,"a",15),s.Xb("click",(function(){s.lc(o);var e=t.$implicit;return s.bc().getRoomDetails(e._id,e.charges,e.roomNumber)})),s.sc(32,"Book Now"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()}if(2&e){var n=t.$implicit,i=s.kc(15);s.Bb(4),s.hc("src",n.image,s.mc),s.Bb(7),s.uc(" ",n.roomNumber,""),s.Bb(1),s.gc("ngIf","Available"==n.status)("ngIfElse",i),s.Bb(8),s.tc(n.description),s.Bb(5),s.tc(n.charges),s.Bb(5),s.uc(" \xa0\xa0",n.Type," ")}}var d,h,g=((d=function(){function e(t,o,n){_classCallCheck(this,e),this.router=t,this.getroom=o,this.roomdata=n,this.room=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.getroom.getRooms(),this.SubRoom=this.getroom.getRoomUpdateListner().subscribe((function(t){e.room=t})),this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}},{key:"getRoomDetails",value:function(e,t,o){this.roomdata.getRoomData(e,t,o)}}]),e}()).\u0275fac=function(e){return new(e||d)(s.Mb(a.a),s.Mb(c.a),s.Mb(b))},d.\u0275cmp=s.Gb({type:d,selectors:[["app-notification"]],decls:3,vars:1,consts:[[1,"row",2,"padding-top","2%","padding-left","2%","padding-right","2%"],["class","card col-lg-12 Card ",4,"ngFor","ngForOf"],[1,"card","col-lg-12","Card"],[1,"row","g-0"],[1,"col-md-4"],[1,"container",2,"height","200px","width","200px","margin-left","0px"],["alt","...",1,"card-image",3,"src"],[1,"col-md-8"],[1,"card-body"],[1,"card-title",2,"font-size","medium"],["for",""],["style","color:green;",4,"ngIf","ngIfElse"],["booked",""],[2,"font-size","medium"],[1,"card-text",2,"font-size","medium"],["routerLink","./bookroom",1,"btn","btn-danger",2,"position","absolute","bottom","8px","right","8px",3,"click"],[2,"color","green"],[2,"color","red"]],template:function(e,t){1&e&&(s.Nb(0,"router-outlet"),s.Pb(1,"div",0),s.qc(2,m,33,7,"div",1),s.Ob()),2&e&&(s.Bb(2),s.gc("ngForOf",t.room))},directives:[a.d,i.j,i.k,a.b],styles:[".Card[_ngcontent-%COMP%]{margin-bottom:1%;box-shadow:5px 5px 10px rgba(0,0,0,.3)}.card-image[_ngcontent-%COMP%]{height:100%;width:150%}.container[_ngcontent-%COMP%]{color:navy;height:10%;width:10%}"]}),d),f=o("PSD3"),p=o.n(f),v=o("tk/3"),y=((h=function(){function e(t){_classCallCheck(this,e),this.http=t,this.status="False"}return _createClass(e,[{key:"bookRoom",value:function(e,t,o,n,i,r,a,s,c,b,l){return this.http.post("https://roomservers.herokuapp.com/bookroom",{Name:e,Phone:t,documentName:o,documentNumber:n,startDate:i,endDate:r,Amount:a,roomid:s,roomNumber:c,status:b,paymentStatus:l})}}]),e}()).\u0275fac=function(e){return new(e||h)(s.Tb(v.b))},h.\u0275prov=s.Ib({token:h,factory:h.\u0275fac,providedIn:"root"}),h);function P(e,t){1&e&&s.Nb(0,"input",17)}function N(e,t){1&e&&s.Nb(0,"input",18)}function O(e,t){1&e&&s.Nb(0,"input",19)}function k(e,t){if(1&e&&(s.Pb(0,"div",2),s.Pb(1,"label",3),s.Pb(2,"b",4),s.sc(3,"Payable:"),s.Ob(),s.Ob(),s.sc(4,"\xa0\xa0\xa0 "),s.Pb(5,"h2"),s.sc(6),s.Ob(),s.Ob()),2&e){var o=s.bc();s.Bb(6),s.vc("",o.days," X ",o.roomcharges," = ",o.payable,"")}}var w,C,B,E=[{path:"",component:g},{path:"bookroom",component:(w=function(){function e(t,o,n){_classCallCheck(this,e),this.roomdata=t,this.roombook=o,this.router=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.room_id=this.roomdata.roomid,this.roomcharges=this.roomdata.roomcharges,this.roomnumber=this.roomdata.roomNumber}},{key:"setvalue",value:function(e){this.showcontent=e.target.value,console.log(this.showcontent)}},{key:"getTotalDays",value:function(){this.date1=new Date(this.startdate),this.date2=new Date(this.enddate),this.total=(this.date2-this.date1)/864e5,this.days=Math.round(this.total),this.payable=this.days*this.roomcharges,console.log(this.days),this.days<0&&console.log("Invalid Days")}},{key:"bookRoom",value:function(e){var t=this;e.preventDefault();var o=new RegExp(/[a-zA-Z][a-zA-Z ]+/),n=new RegExp(/^((\\+91-?)|0)?[0-9]{10}$/),r=new RegExp(/^(\d{12})$/),a=new RegExp(/[A-Z]{5}[0-9]{4}[A-Z]{1}/),s=new RegExp(/^(([A-Z]{2}[0-9]{2})( )|([A-Z]{2}-[0-9]{2}))((19|20)[0-9][0-9])[0-9]{7}$/);this.Name=e.target.querySelector("#customerName").value,this.Phone=e.target.querySelector("#phone").value,this.startDate=e.target.querySelector("#startdate").value,this.endDate=e.target.querySelector("#enddate").value,console.log("this is the startDate before sending",this.startDate);var c=Object(i.o)(new Date,"yyyy-MM-dd","en_US"),b=Object(i.o)(this.startdate,"yyyy-MM-dd","en_US"),l=Object(i.o)(this.endDate,"yyyy-MM-dd","en_US");if(b<c)p.a.fire({title:"Error",text:"You cannot book room with past date",icon:"error",timer:1700});else{status=b>c?"pre-booked":"Booked";var u=o.test(this.Name.toString());console.log("Name is "+u);var m=n.test(this.Phone.toString());if(console.log("Phone is "+m),"AdhaarCard"===this.showcontent)if(1==u)if(1==m){this.documentNumber=e.target.querySelector("#adhaarno").value;var d=r.test(this.documentNumber.toString());console.log("Addhar is "+d),1==d?this.payable>0?this.roombook.bookRoom(this.Name,this.Phone,this.showcontent,this.documentNumber,b,l,this.payable,this.room_id,this.roomnumber,status,"PAYMENT_PENDING").subscribe((function(e){p.a.fire("Booked","success"),console.log("this is Name before sending",t.roomnumber),console.log(e),t.router.navigateByUrl("Home/Notification")})):(p.a.fire({title:"Fail",text:"Enter valid Dates",icon:"error",showConfirmButton:!1,timer:1900}),this.router.navigateByUrl("Home/Notification")):(p.a.fire({title:"Fail",text:"Enter valid Aadhar Number",icon:"error",showConfirmButton:!1,timer:1900}),this.router.navigateByUrl("Home/Notification"))}else p.a.fire({title:"Fail",text:"Enter valid Phone number",icon:"error",showConfirmButton:!1,timer:1900}),this.router.navigateByUrl("Home/Notification");else p.a.fire({title:"Fail",text:"Enter valid name",icon:"error",showConfirmButton:!1,timer:1900}),this.router.navigateByUrl("Home/Notification");else if("PanCard"===this.showcontent)if(1==u)if(1==m){this.documentNumber=e.target.querySelector("#panno").value;var h=a.test(this.documentNumber.toString());console.log("Pan is "+h),1==h?this.payable>0?this.roombook.bookRoom(this.Name,this.Phone,this.showcontent,this.documentNumber,b,l,this.payable,this.room_id,this.roomnumber,status,"PAYMENT_PENDING").subscribe((function(e){p.a.fire("Booked","success"),console.log("this is Name before sending",t.roomnumber),console.log(e),t.router.navigateByUrl("Home/Notification")})):(p.a.fire({title:"Fail",text:"Enter valid Dates",icon:"error",showConfirmButton:!1,timer:1900}),this.router.navigateByUrl("Home/Notification")):(p.a.fire({title:"Fail",text:"Enter valid PanCard Number",icon:"error",showConfirmButton:!1,timer:1900}),this.router.navigateByUrl("Home/Notification"))}else p.a.fire({title:"Fail",text:"Enter valid Phone number",icon:"error",showConfirmButton:!1,timer:1900}),this.router.navigateByUrl("Home/Notification");else p.a.fire({title:"Fail",text:"Enter valid name",icon:"error",showConfirmButton:!1,timer:1900}),this.router.navigateByUrl("Home/Notification");else if(1==u)if(1==m){this.documentNumber=e.target.querySelector("#dno").value;var g=s.test(this.documentNumber.toString());console.log("Driving Licence is "+g),1==g?this.payable>0?this.roombook.bookRoom(this.Name,this.Phone,this.showcontent,this.documentNumber,b,l,this.payable,this.room_id,this.roomnumber,status,"PAYMENT_PENDING").subscribe((function(e){p.a.fire("Booked","success"),console.log("this is Name before sending",t.roomnumber),console.log(e),t.router.navigateByUrl("Home/Notification")})):(p.a.fire({title:"Fail",text:"Enter valid Dates",icon:"error",showConfirmButton:!1,timer:1900}),this.router.navigateByUrl("Home/Notification")):(p.a.fire({title:"Fail",text:"Enter valid Driving Licence Number",icon:"error",showConfirmButton:!1,timer:1900}),this.router.navigateByUrl("Home/Notification"))}else p.a.fire({title:"Fail",text:"Enter valid Phone number",icon:"error",showConfirmButton:!1,timer:1900}),this.router.navigateByUrl("Home/Notification");else p.a.fire({title:"Fail",text:"Enter valid name",icon:"error",showConfirmButton:!1,timer:1900}),this.router.navigateByUrl("Home/Notification");console.log("roomId before sending",this.room_id)}}}]),e}(),w.\u0275fac=function(e){return new(e||w)(s.Mb(b),s.Mb(y),s.Mb(a.a))},w.\u0275cmp=s.Gb({type:w,selectors:[["app-bookroom"]],inputs:{room:"room"},decls:52,vars:6,consts:[[1,"bookroom-container"],[3,"submit"],[1,"form-group"],["for",""],[2,"font-size","medium"],["type","text","name","customerName","id","customerName","placeholder","Enter Customer Name","required",""],["type","number","name","phone","id","phone","placeholder","Enter Phone No.","minlength","10","required",""],["type","radio","name","docname","id","docname","value","AdhaarCard",3,"change"],["type","radio","name","docname","id","docname","value","PanCard",3,"change"],["type","radio","name","docname","id","docname","value","DrivingLicence",3,"change"],["type","number","name","adhaarno","id","adhaarno","minlength","12","placeholder","Enter Adhaar no",4,"ngIf"],["type","text","name","panno","id","panno","minlength","10","placeholder","Enter Pan No",4,"ngIf"],["type","text","name","dno","id","dno","minlength","16","placeholder","Enter licence No",4,"ngIf"],["type","date","name","startdate","id","startdate","required","",3,"ngModel","ngModelChange"],["type","date","name","enddate","id","enddate","required","",3,"ngModel","ngModelChange","change"],["class","form-group",4,"ngIf"],[1,"btn","btn-danger",2,"position","absolute"],["type","number","name","adhaarno","id","adhaarno","minlength","12","placeholder","Enter Adhaar no"],["type","text","name","panno","id","panno","minlength","10","placeholder","Enter Pan No"],["type","text","name","dno","id","dno","minlength","16","placeholder","Enter licence No"]],template:function(e,t){1&e&&(s.Pb(0,"div",0),s.Pb(1,"form",1),s.Xb("submit",(function(e){return t.bookRoom(e)})),s.Pb(2,"div",2),s.Pb(3,"label",3),s.Pb(4,"b",4),s.sc(5,"Name"),s.Ob(),s.Ob(),s.sc(6,"\xa0\xa0\xa0 "),s.Nb(7,"input",5),s.Ob(),s.Pb(8,"div",2),s.Pb(9,"label",3),s.Pb(10,"b",4),s.sc(11,"Phone no."),s.Ob(),s.Ob(),s.sc(12,"\xa0\xa0\xa0 "),s.Nb(13,"input",6),s.Ob(),s.Pb(14,"div",2),s.Pb(15,"label",3),s.Pb(16,"b",4),s.sc(17,"Adhaar card"),s.Ob(),s.Ob(),s.sc(18,"\xa0\xa0\xa0 "),s.Pb(19,"input",7),s.Xb("change",(function(e){return t.setvalue(e)})),s.Ob(),s.sc(20,"\xa0\xa0\xa0 "),s.Pb(21,"label",3),s.Pb(22,"b",4),s.sc(23,"Pan card"),s.Ob(),s.Ob(),s.sc(24,"\xa0\xa0\xa0 "),s.Pb(25,"input",8),s.Xb("change",(function(e){return t.setvalue(e)})),s.Ob(),s.sc(26,"\xa0\xa0\xa0 "),s.Pb(27,"label",3),s.Pb(28,"b",4),s.sc(29,"Driving licence"),s.Ob(),s.Ob(),s.sc(30,"\xa0\xa0\xa0 "),s.Pb(31,"input",9),s.Xb("change",(function(e){return t.setvalue(e)})),s.Ob(),s.Ob(),s.Pb(32,"div",2),s.qc(33,P,1,0,"input",10),s.qc(34,N,1,0,"input",11),s.qc(35,O,1,0,"input",12),s.Ob(),s.Pb(36,"div",2),s.Pb(37,"label",3),s.Pb(38,"b",4),s.sc(39,"Start-Date"),s.Ob(),s.Ob(),s.sc(40,"\xa0\xa0\xa0 "),s.Pb(41,"input",13),s.Xb("ngModelChange",(function(e){return t.startdate=e})),s.Ob(),s.Ob(),s.Pb(42,"div",2),s.Pb(43,"label",3),s.Pb(44,"b",4),s.sc(45,"End-Date"),s.Ob(),s.Ob(),s.sc(46,"\xa0\xa0\xa0 "),s.Pb(47,"input",14),s.Xb("ngModelChange",(function(e){return t.enddate=e}))("change",(function(){return t.getTotalDays()})),s.Ob(),s.Ob(),s.qc(48,k,7,3,"div",15),s.Pb(49,"div",2),s.Pb(50,"button",16),s.sc(51,"Book"),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&e&&(s.Bb(33),s.gc("ngIf","AdhaarCard"===t.showcontent),s.Bb(1),s.gc("ngIf","PanCard"===t.showcontent),s.Bb(1),s.gc("ngIf","DrivingLicence"===t.showcontent),s.Bb(6),s.gc("ngModel",t.startdate),s.Bb(6),s.gc("ngModel",t.enddate),s.Bb(1),s.gc("ngIf",t.days))},directives:[r.o,r.i,r.j,i.k,r.a,r.m,r.h,r.k],styles:[".bookroom-container[_ngcontent-%COMP%]{padding:5%}"]}),w)}],D=((B=function e(){_classCallCheck(this,e)}).\u0275mod=s.Kb({type:B}),B.\u0275inj=s.Jb({factory:function(e){return new(e||B)},imports:[[a.c.forChild(E)],a.c]}),B),x=((C=function e(){_classCallCheck(this,e)}).\u0275mod=s.Kb({type:C}),C.\u0275inj=s.Jb({factory:function(e){return new(e||C)},imports:[[r.f,i.b,D,r.l]]}),C)}}]);